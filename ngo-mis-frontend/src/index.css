@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* --- Premium & Calm Color Palette --- */
    --background: 220 20% 98%;      /* Very light, almost white cool grey */
    --foreground: 215 25% 25%;      /* Deep, soft navy-charcoal for text */

    --card: 0 0% 100%;              /* Pure white for floating cards */
    --card-foreground: 215 25% 25%;

    --popover: 0 0% 100%;
    --popover-foreground: 215 25% 25%;

    /* Primary Accent (Calm Green) */
    --primary: 150 40% 40%;         /* Muted, earthy green */
    --primary-foreground: 150 40% 98%; /* Very light green/white for text on primary */

    /* Secondary Accent (Deep Navy) */
    --secondary: 215 30% 40%;       /* Calm, deep navy blue */
    --secondary-foreground: 215 30% 95%;

    --muted: 220 20% 94%;           /* Lighter grey for muted backgrounds */
    --muted-foreground: 220 10% 55%; /* Softer grey for muted text */

    --accent: 220 20% 94%;
    --accent-foreground: 215 25% 25%;

    --destructive: 0 60% 50%;         /* A calmer, less vibrant red */
    --destructive-foreground: 0 0% 100%;

    --border: 220 20% 90%;          /* Subtle border color */
    --input: 220 20% 96%;           /* Slightly off-white for inputs */
    --ring: 150 40% 40%;            /* Green for focus rings */

    --radius: 1.5rem;               /* 24px for large rounded corners */
  }

  .dark {
    /* --- Premium & Calm Dark Mode --- */
    --background: 220 15% 5%;       /* Very dark navy, almost black */
    --foreground: 220 15% 90%;      /* Light, soft grey for text */

    --card: 220 15% 12%;            /* Floating dark card surface */
    --card-foreground: 220 15% 90%;

    --popover: 220 15% 12%;
    --popover-foreground: 220 15% 90%;

    /* Primary Accent (Calm Green) */
    --primary: 150 45% 55%;         /* A slightly brighter green for dark mode contrast */
    --primary-foreground: 150 40% 10%;

    /* Secondary Accent (Deep Navy) */
    --secondary: 215 35% 55%;       /* A slightly brighter navy for dark mode */
    --secondary-foreground: 215 30% 95%;

    --muted: 220 15% 20%;
    --muted-foreground: 220 10% 65%;

    --accent: 220 15% 20%;
    --accent-foreground: 220 15% 90%;

    --destructive: 0 60% 55%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 15% 25%;
    --input: 220 15% 18%;
    --ring: 150 45% 55%;

    --radius: 1.5rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "liga" on, "calt" on;
    background: linear-gradient(175deg, hsl(var(--background)) 0%, hsl(var(--muted)) 100%);
  }
}
 
@layer components {
  /* Subtle glow for active NavLink */
  .glow-primary-subtle {
      box-shadow: 0 0 15px hsl(var(--primary) / 0.3), 0 0 5px hsl(var(--primary) / 0.2);
  }
  
  /* Glow effect for buttons on hover/focus */
  .hover\:button-glow-primary:hover, .hover\:button-glow-primary:focus {
      box-shadow: 0 0 20px hsl(var(--primary) / 0.4), 0 0 8px hsl(var(--primary) / 0.3);
      transform: translateY(-1px);
      transition: all 0.2s ease-out;
  }
}

/* --- React Calendar Theming for new UI/UX --- */
.react-calendar {
  width: 100%;
  max-width: 100%;
  background-color: hsl(var(--card)); /* Use card background */
  border: 1px solid hsl(var(--border)); /* Subtle border */
  border-radius: var(--radius); /* Large rounded corners */
  font-family: "Inter", sans-serif; /* Ensure Inter font */
  line-height: 1.125em;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.react-calendar--doubleView {
  width: 700px;
}

.react-calendar--doubleView .react-calendar__viewContainer {
  display: flex;
  margin: -0.5em;
}

.react-calendar--doubleView .react-calendar__viewContainer > * {
  width: 50%;
  margin: 0.5em;
}

.react-calendar,
.react-calendar *,
.react-calendar *:before,
.react-calendar *:after {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

.react-calendar button {
  margin: 0;
  border: 0;
  outline: none;
}

.react-calendar button:enabled:hover {
  cursor: pointer;
}

/* Navigation */
.react-calendar__navigation {
  display: flex;
  height: 44px;
  margin-bottom: 1em;
  background-color: hsl(var(--muted)); /* Muted background for navigation */
  border-bottom: 1px solid hsl(var(--border)); /* Subtle separator */
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
}

.react-calendar__navigation button {
  min-width: 44px;
  background: none;
  color: hsl(var(--foreground)); /* Foreground color for navigation buttons */
  font-weight: 500; /* Medium weight for navigation text */
  border-radius: var(--radius); /* Rounded buttons */
  transition: all 0.2s ease-in-out;
}

.react-calendar__navigation button:enabled:hover,
.react-calendar__navigation button:enabled:focus {
  background-color: hsl(var(--muted-foreground) / 0.1); /* Subtle hover/focus */
  border-radius: var(--radius);
}

.react-calendar__navigation button[disabled] {
  background-color: transparent;
  color: hsl(var(--muted-foreground) / 0.5); /* Faded disabled text */
}

.react-calendar__navigation__label {
  flex-grow: 1;
  background-color: transparent;
  font-weight: 600; /* Semi-bold for month/year label */
  color: hsl(var(--foreground));
  border-radius: var(--radius);
  transition: all 0.2s ease-in-out;
}

.react-calendar__navigation__label:enabled:hover,
.react-calendar__navigation__label:enabled:focus {
  background-color: hsl(var(--muted-foreground) / 0.1); /* Subtle hover/focus */
  border-radius: var(--radius);
}

/* Views */
.react-calendar__month-view__weekdays {
  text-align: center;
  text-transform: uppercase;
  font-weight: 500; /* Medium weight for weekdays */
  font-size: 0.75em;
  color: hsl(var(--muted-foreground)); /* Muted foreground for weekdays */
}

.react-calendar__month-view__weekdays__weekday {
  padding: 0.5em;
  color: hsl(var(--muted-foreground));
}

.react-calendar__month-view__days__day--weekend {
  color: hsl(var(--destructive) / 0.8); /* Slightly muted destructive for weekends */
}

.react-calendar__month-view__days__day--neighboringMonth {
  color: hsl(var(--muted-foreground) / 0.6); /* Faded neighboring month days */
}

.react-calendar__tile {
  max-width: 100%;
  padding: 0.5em 0.625em;
  background: none;
  text-align: center;
  line-height: 1.5em;
  border-radius: var(--radius); /* Rounded tiles */
  transition: all 0.2s ease-in-out;
  color: hsl(var(--foreground)); /* Default day text color */
}

.react-calendar__tile:disabled {
  background-color: transparent;
  color: hsl(var(--muted-foreground) / 0.5);
}

.react-calendar__tile:enabled:hover,
.react-calendar__tile:enabled:focus {
  background-color: hsl(var(--muted) / 0.5); /* Softer hover/focus for tiles */
  border-radius: var(--radius);
}

.react-calendar__tile--now {
  background-color: hsl(var(--primary) / 0.2); /* Subtle primary tint for today */
  border-radius: var(--radius);
  font-weight: 600; /* Semi-bold for today */
}

.react-calendar__tile--now:enabled:hover,
.react-calendar__tile--now:enabled:focus {
  background-color: hsl(var(--primary) / 0.3);
}

.react-calendar__tile--hasActive {
  background-color: hsl(var(--secondary) / 0.3); /* Secondary tint for range start/end */
  color: hsl(var(--foreground));
  border-radius: var(--radius);
}

.react-calendar__tile--active {
  background-color: hsl(var(--primary)); /* Primary color for selected day */
  color: hsl(var(--primary-foreground)); /* White text on selected day */
  border-radius: var(--radius);
  font-weight: 600;
}

.react-calendar__tile--active:enabled:hover,
.react-calendar__tile--active:enabled:focus {
  background-color: hsl(var(--primary) / 0.8);
}

.react-calendar__tile--range {
  background-color: hsl(var(--primary) / 0.1);
  color: hsl(var(--foreground));
  border-radius: 0; /* No rounding for range middle */
}

.react-calendar__tile--rangeStart {
  border-top-left-radius: var(--radius);
  border-bottom-left-radius: var(--radius);
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

.react-calendar__tile--rangeEnd {
  border-top-right-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

.react-calendar__year-view .react-calendar__tile,
.react-calendar__decade-view .react-calendar__tile,
.react-calendar__century-view .react-calendar__tile {
  padding: 2em 0.5em;
  border-radius: var(--radius);
}

/* Custom tile content styling from Attendance.js */
.react-calendar-themed .flex {
  font-size: 0.6em !important; /* Adjust font size for calendar events */
  line-height: 1.2 !important;
}

/* Dark mode specific calendar styles (overrides for the new theme) */
.dark .react-calendar {
  background-color: hsl(var(--card));
  border-color: hsl(var(--border));
  color: hsl(var(--foreground));
}

.dark .react-calendar__navigation {
  background-color: hsl(var(--muted) / 0.5); /* Slightly transparent muted */
  border-bottom: 1px solid hsl(var(--border) / 0.5);
}

.dark .react-calendar__navigation button {
  color: hsl(var(--foreground));
}

.dark .react-calendar__navigation button:enabled:hover,
.dark .react-calendar__navigation button:enabled:focus {
  background-color: hsl(var(--foreground) / 0.05); /* Very subtle hover */
}

.dark .react-calendar__navigation__label {
  color: hsl(var(--foreground));
}

.dark .react-calendar__navigation__label:enabled:hover,
.dark .react-calendar__navigation__label:enabled:focus {
  background-color: hsl(var(--foreground) / 0.05);
}

.dark .react-calendar__month-view__weekdays {
  color: hsl(var(--muted-foreground));
}

.dark .react-calendar__month-view__days__day--weekend {
  color: hsl(var(--destructive) / 0.8);
}

.dark .react-calendar__month-view__days__day--neighboringMonth {
  color: hsl(var(--muted-foreground) / 0.5);
}

.dark .react-calendar__tile {
  color: hsl(var(--foreground));
}

.dark .react-calendar__tile:enabled:hover,
.dark .react-calendar__tile:enabled:focus {
  background-color: hsl(var(--card) / 0.5); /* Card surface with transparency */
}

.dark .react-calendar__tile--now {
  background-color: hsl(var(--primary) / 0.2);
  color: hsl(var(--foreground));
}

.dark .react-calendar__tile--now:enabled:hover,
.dark .react-calendar__tile--now:enabled:focus {
  background-color: hsl(var(--primary) / 0.3);
}

.dark .react-calendar__tile--hasActive {
  background-color: hsl(var(--secondary) / 0.3);
  color: hsl(var(--foreground));
}

.dark .react-calendar__tile--active {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

.dark .react-calendar__tile--active:enabled:hover,
.dark .react-calendar__tile--active:enabled:focus {
  background-color: hsl(var(--primary) / 0.8);
}

.dark .react-calendar__tile--range {
  background-color: hsl(var(--primary) / 0.1);
  color: hsl(var(--foreground));
}

.dark .react-calendar__tile--rangeStart,
.dark .react-calendar__tile--rangeEnd {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

